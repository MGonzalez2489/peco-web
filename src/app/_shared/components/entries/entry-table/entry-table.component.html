<div>
  @if (entries) {
    <p-button (click)="showDialog()" label="Show" />
    <p-dialog
      header="Filtrar Registros"
      [modal]="true"
      [(visible)]="visible"
      [style]="{ width: '25rem' }"
    >
      <app-entries-filter-form />
      <!-- <span class="p-text-secondary block mb-8">Update your information.</span> -->
      <!-- <div class="flex items-center gap-4 mb-4"> -->
      <!--   <label for="username" class="font-semibold w-24">Username</label> -->
      <!--   <input pInputText id="username" class="flex-auto" autocomplete="off" /> -->
      <!-- </div> -->
      <!-- <div class="flex items-center gap-4 mb-8"> -->
      <!--   <label for="email" class="font-semibold w-24">Email</label> -->
      <!--   <input pInputText id="email" class="flex-auto" autocomplete="off" /> -->
      <!-- </div> -->
      <!-- <div class="flex justify-end gap-2"> -->
      <!--   <p-button -->
      <!--     label="Cancel" -->
      <!--     severity="secondary" -->
      <!--     (click)="visible = false" -->
      <!--   /> -->
      <!--   <p-button label="Save" (click)="visible = false" /> -->
      <!-- </div> -->
    </p-dialog>
    <!-- Table -->
    <p-table
      #dt
      [value]="entries.data"
      stripedRows
      [customSort]="true"
      (onSort)="sort($event)"
      [sortOrder]="searchObj.order === 'ASC' ? 1 : -1"
    >
      <ng-template #header>
        <tr>
          @if (showAccountColumn) {
            <th pSortableColumn="account">
              Cuenta <p-sortIcon field="account" />
            </th>
          }

          <th pSortableColumn="description">
            Descripcion <p-sortIcon field="account" />
          </th>
          <th pSortableColumn="category">
            Categoria <p-sortIcon field="account" />
          </th>
          <th pSortableColumn="type">Tipo <p-sortIcon field="account" /></th>
          <th pSortableColumn="createdAt">
            Creado <p-sortIcon field="account" />
          </th>
          <th pSortableColumn="amount">Monto <p-sortIcon field="account" /></th>
        </tr>
      </ng-template>
      <ng-template #body let-entry>
        <tr>
          @if (showAccountColumn) {
            <td>{{ entry.account }}</td>
          }

          <td>{{ entry.description | titlecase }}</td>
          <td>{{ entry.category }}</td>
          <td>{{ entry.type }}</td>
          <td>{{ entry.createdAt | date }}</td>
          <td>
            <app-amount
              [amount]="
                entry.type === 'Gasto' ? entry.amount * -1 : entry.amount
              "
            ></app-amount>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <!-- Pagination -->
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [rows]="searchObj.take"
      [totalRecords]="entries.meta.itemCount"
      [rowsPerPageOptions]="[5, 10, 25, { showAll: 'All' }]"
      [first]="entries.meta.take * entries.meta.page"
    />
  }
</div>
