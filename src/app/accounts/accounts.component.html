<p-card header="Cuentas">
  @if (accounts$ | async; as accounts) {
    <p-table
      [value]="accounts"
      stripedRows
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[10, 25, 50]"
      [globalFilterFields]="[
        'name',
        'country.name',
        'representative.name',
        'status',
      ]"
    >
      <ng-template #caption>
        <div class="flex justify-between">
          <p-iconField iconPosition="left">
            <p-inputIcon>
              <i class="pi pi-search"></i>
            </p-inputIcon>
            <input pInputText type="text" placeholder="Buscar" size="small" />
          </p-iconField>
          <p-button
            icon="pi pi-plus"
            label="Nueva Cuenta"
            [routerLink]="['/accounts/new']"
          />
        </div>
      </ng-template>
      <ng-template #header>
        <tr>
          <th>Cuenta</th>
          <th>Creado</th>
          <th>Balance</th>
          <th>Default</th>
        </tr>
      </ng-template>
      <ng-template #body let-account>
        <tr>
          <td>{{ account.name }}</td>
          <td>{{ account.createdAt | date }}</td>
          <td>{{ account.balance | currency }}</td>
          <td>
            <p-checkbox
              [(ngModel)]="account.isDefault"
              [binary]="true"
              [disabled]="true"
            />
          </td>
        </tr>
      </ng-template>
    </p-table>
  }
</p-card>
